<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx"
		 width="100%" height="100%"
		 xmlns:gui="net.prjcanlendar.gui.*">
	
	<s:layout>
		<s:VerticalLayout gap="0">
			
		</s:VerticalLayout>
	</s:layout>
	
	<s:HGroup gap="10" padding="10">
		<s:Button label="Tạo mới" color="red" click="button1_clickHandler(event)">
			
		</s:Button>
		
		<s:Button label="Xóa" color="red">
			
		</s:Button>
	</s:HGroup>
	
	<fx:Script>
		<![CDATA[
			import net.prjcanlendar.form.XemYCNghiPopup;
			import net.prjcanlendar.form.FormYCNghiPhep;
			import mx.collections.ArrayCollection;
			import mx.core.FlexGlobals;
			import mx.core.IFlexDisplayObject;
			import mx.managers.PopUpManager;
			
			import model.YCNghiPhep;
			
			/*[Bindable]
			private var dpFlat:ArrayCollection = new ArrayCollection([
				{Region:"Southwest", Territory:"Arizona", 
					Territory_Rep:"Barbara Jennings", Actual:38865, Estimate:40000}, 
				{Region:"Southwest", Territory:"Arizona", 
					Territory_Rep:"Dana Binn", Actual:29885, Estimate:30000},  
				{Region:"Southwest", Territory:"Central California", 
					Territory_Rep:"Joe Smith", Actual:29134, Estimate:30000},  
				{Region:"Southwest", Territory:"Nevada", 
					Territory_Rep:"Bethany Pittman", Actual:52888, Estimate:45000},  
				{Region:"Southwest", Territory:"Northern California", 
					Territory_Rep:"Lauren Ipsum", Actual:38805, Estimate:40000}, 
				{Region:"Southwest", Territory:"Northern California", 
					Territory_Rep:"T.R. Smith", Actual:55498, Estimate:40000},  
				{Region:"Southwest", Territory:"Southern California", 
					Territory_Rep:"Alice Treu", Actual:44985, Estimate:45000}, 
				{Region:"Southwest", Territory:"Southern California", 
					Territory_Rep:"Jane Grove", Actual:44913, Estimate:45000}
			]);*/
			
			[Bindable]
			private var dbAvand:ArrayCollection = new ArrayCollection([new model.YCNghiPhep("Nghỉ phép", "Nguyễn Văn An", "Nghỉ ốm",
					'03-08-2017', '03-09-2017',"Đã được phê duyệt"),
				new model.YCNghiPhep("Nghỉ phép", "Chu Văn Minh", "Nghỉ ốm",
						'03-08-2017', '03-09-2017',"Đã được phê duyệt"),
				new model.YCNghiPhep("Nghỉ phép bù", "Đinh Thị Hương", "Nghỉ ốm",
					'03-08-2017', '03-09-2017',"Đã được phê duyệt"),
				new model.YCNghiPhep("Nghỉ phép", "Nguyễn Văn An", "Nghỉ ốm",
					'03-08-2017', '03-09-2017',"Đã được phê duyệt")]);
			
			protected function myADG_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				var popup:IFlexDisplayObject = PopUpManager.createPopUp(DisplayObject(FlexGlobals.topLevelApplication),XemYCNghiPopup,true);
				PopUpManager.centerPopUp(popup);
			}
			
			protected function button1_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				var popup:IFlexDisplayObject = PopUpManager.createPopUp(DisplayObject(FlexGlobals.topLevelApplication),FormYCNghiPhep,true);
				PopUpManager.centerPopUp(popup);
			}
			
		]]>
	</fx:Script>
	
		
	<mx:AdvancedDataGrid id="myADG" 
						 width="100%" height="100%" 
						 initialize="gc.refresh();"
						 click="myADG_clickHandler(event)">        
		<mx:dataProvider>
			<mx:GroupingCollection2 id="gc" source="{dbAvand}">
				<mx:grouping>
					<mx:Grouping>
						<mx:GroupingField name="loainghiid"/>
					</mx:Grouping>
				</mx:grouping>
			</mx:GroupingCollection2>
		</mx:dataProvider>        
		
		<mx:columns>
			<mx:AdvancedDataGridColumn dataField="nhanvienid" headerText="Nhân viên"/>
			<mx:AdvancedDataGridColumn dataField="lydo" headerText="Lý do"/>
			<mx:AdvancedDataGridColumn headerText="Số ngày" />
			<mx:AdvancedDataGridColumn dataField="tungay"
									   headerText="Từ ngày"/>
			<mx:AdvancedDataGridColumn dataField="toingay" headerText="Tới ngày"/>
			<mx:AdvancedDataGridColumn dataField="trangthai" headerText="Trạng thái"/>
		</mx:columns>
	</mx:AdvancedDataGrid>
</s:Group>
